<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h2>社員情報検索</h2>
	    
	    <label>社員名:</label>
	    <input type="text" id="name">
	    
	    <label>年齢:</label>
	    <input type="number" id="ageFrom"> ~ <input type="number" id="ageTo">
	    
	    <label>開始日:</label>
	    <input type="date" id="startDate">
	    
	    <label>終了日:</label>
	    <input type="date" id="endDate">
	    
	    <button onclick="searchEmployees()">検索</button>
	    <button onclick="clearForm()">クリア</button>

	    <h3>検索結果</h3>
	    <table border="1">
	        <thead>
	            <tr>
	                <th>ID</th>
	                <th>名前</th>
	                <th>年齢</th>
	                <th>開始日</th>
	                <th>終了日</th>
	            </tr>
	        </thead>
	        <tbody id="results"></tbody>
	    </table>

	    <script>
	        function searchEmployees() {
	            const name = document.getElementById("name").value;
	            const ageFrom = document.getElementById("ageFrom").value;
	            const ageTo = document.getElementById("ageTo").value;
	            const startDate = document.getElementById("startDate").value;
	            const endDate = document.getElementById("endDate").value;
	            
	            const query = new URLSearchParams({ name, ageFrom, ageTo, startDate, endDate });
	            
	            fetch(`http://localhost:8080/employees/search?${query}`)
	                .then(response => response.json())
	                .then(data => {
	                    const tbody = document.getElementById("results");
	                    tbody.innerHTML = "";
	                    data.forEach(emp => {
	                        tbody.innerHTML += `<tr>
	                            <td>${emp.id}</td>
	                            <td>${emp.name}</td>
	                            <td>${emp.age}</td>
	                            <td>${emp.startDate}</td>
	                            <td>${emp.endDate}</td>
	                        </tr>`;
	                    });
	                })
	                .catch(error => console.error("Error:", error));
	        }

	        function clearForm() {
	            document.getElementById("name").value = "";
	            document.getElementById("ageFrom").value = "";
	            document.getElementById("ageTo").value = "";
	            document.getElementById("startDate").value = "";
	            document.getElementById("endDate").value = "";
	            document.getElementById("results").innerHTML = "";
	        }
	    </script>
</body>
</html>